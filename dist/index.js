"use strict";(()=>{var b=(e,n)=>(Array.isArray(n)||(n=[n]),n.map(o=>e.dispatchEvent(new Event(o,{bubbles:!0}))).every(o=>o));var H=new Map([["tiny","(max-width: 479px)"],["small","(max-width: 767px)"],["medium","(max-width: 991px)"],["main","(min-width: 992px)"]]);var d=()=>{for(let[e,n]of H)if(window.matchMedia(n).matches)return e;return"main"};var x=(e,n)=>{n==="play"?e.play():n==="pause"&&e.pause()};var w=()=>{switch(n(),a(),d()){case"main":o();break;case"medium":break;case"small":break;case"tiny":break}function n(){gsap.registerPlugin(ScrollTrigger),ScrollTrigger.defaults({markers:!1})}function a(){let r=document.querySelector(".nav_component");if(!r)return;let s=r.querySelector('[data-contact="trigger"]'),t=[...r.querySelectorAll('[data-contact="button"]')];s&&t&&t.length>0&&t.forEach(c=>{c.addEventListener("click",()=>{b(s,"click")})});let i=r.querySelector("form");if(!i)return;let l=i.querySelector(".button");l&&l.addEventListener("click",()=>{i.requestSubmit()})}function o(){[...document.querySelectorAll(".video_embed, .services_item")].forEach(s=>{let t=s.querySelector("video");x(t,"pause"),s.addEventListener("mouseover",()=>{x(t,"play")}),s.addEventListener("mouseout",()=>{x(t,"pause")})})}};var y=()=>{};var k=()=>{};var q=(e,n)=>{e||(e=[...document.querySelectorAll("img")]),Array.isArray(e)||(e=[...e]);let a=e.length,o=0;e.forEach(r=>{let s=new Image;s.src=r.src,s.onload=function(){o+=1,o===a&&n()}})};var g=e=>{let{scrub:n}=e.timeline;e.timeline.scrub=n||1;let a=gsap.timeline({scrollTrigger:e.timeline}),{duration:o}=e.options;e.options.duration=o||1,a.to(e.timeline.target,e.options)};var E=()=>{e(),n(),a();function e(){let o=document.querySelector(".hero");if(!o)return;let r=[...o.querySelectorAll("img")];if(r.length===0)return;q(r,s);function s(){let t=document.querySelector(".sticky_component");if(!t)return;let i=t.querySelector(".hero");if(!i)return;let l=i.querySelector(".horizontal_track");if(!l)return;let c=l.querySelector(".horizontal_list");if(!c)return;let m=i.offsetHeight,p=c.offsetWidth,u=window.innerWidth;t.style.height=`${m+(p-u)}px`,g({timeline:{trigger:t,target:c,start:"top top",end:"bottom bottom"},options:{x:()=>(p-u)*-1}})}}function n(){[...document.querySelectorAll(".story_text")].forEach(r=>{new IntersectionObserver((s,t)=>{s.forEach(i=>{i.isIntersecting&&i.target.classList.add("is-active")})},{rootMargin:"0px 0px -20% 0px",threshold:.5}).observe(r)})}function a(){let o=document.querySelector(".section_how");if(!o)return;new IntersectionObserver(s).observe(o);function s(){let t=document.querySelector(".process_wrapper");if(!t)return;let i=t.querySelector(".process_sticky");if(!i)return;let l=i.querySelector(".process_track");if(!l)return;let c=l.querySelector(".horizontal_list");if(!c)return;let m=window.innerHeight,p=c.offsetHeight,u=`${m/2-p/2}px`,h=`${m/2+p/2}px`;i.style.top=u;let f=c.offsetWidth,T=window.innerWidth;t.style.height=`${f-T}px`,g({timeline:{trigger:t,target:c,start:`top ${u}`,end:`bottom ${h}`},options:{x:()=>(f-T)*-1}})}}};var S=()=>{switch(n(),d()){case"main":a(),o();break;case"medium":o();break;case"small":break;case"tiny":break}function n(){let r=document.querySelector(".home-hero_track"),s=r.querySelector(".home-hero_video"),t=s.getBoundingClientRect(),i=window.innerHeight-t.bottom;g({timeline:{trigger:r,target:s,start:"top top",end:"bottom bottom"},options:{y:i,width:"100vw",height:"100vh"}})}function a(){let r=window.matchMedia("(prefers-reduced-motion: reduce)").matches;[...document.querySelectorAll(".featured-work_row")].forEach(t=>{let i=t.querySelector(".featured-meta_list");if(!i)return;let l=[...i.querySelectorAll(".featured-meta_link")];[...t.querySelectorAll(".featured-work_item")].forEach(m=>{let u=m.querySelector("a").href,h=l.find(f=>f.href===u);m.addEventListener("mouseover",()=>{let f=h.offsetTop;i.scrollTo({top:f,behavior:r?"auto":"smooth"})})})})}function o(){let r=document.querySelector(".services_list");if(!r)return;let s=0,t=1;[...r==null?void 0:r.querySelectorAll(".services_item")].forEach(l=>{let c=l.offsetTop;c>s&&(t%2&&(l.style.marginLeft="auto"),s=c,t+=1)})}};var v=()=>{};var L=()=>{let{referrer:e}=document,n=e.endsWith("/work")?"other":"work";[...document.querySelectorAll(`[data-from="${n}"]`)].forEach(o=>{o.style.display="none"})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{let{pathname:e}=window.location;switch(w(),e){case"/":S();break;case"/work":v();break;case"/culture":E();break;case"/blog":y();break;case"/careers":k();break;default:e.includes("/work/")&&(console.log("woohoo"),L());break}});})();
