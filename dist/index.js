"use strict";(()=>{var b=(e,i)=>(Array.isArray(i)||(i=[i]),i.map(o=>e.dispatchEvent(new Event(o,{bubbles:!0}))).every(o=>o));var q=new Map([["tiny","(max-width: 479px)"],["small","(max-width: 767px)"],["medium","(max-width: 991px)"],["main","(min-width: 992px)"]]);var d=()=>{for(let[e,i]of q)if(window.matchMedia(i).matches)return e;return"main"};var h=(e,i)=>{i==="play"?e.play():i==="pause"&&e.pause()};var w=()=>{switch(i(),a(),d()){case"main":o();break;case"medium":break;case"small":break;case"tiny":break}function i(){gsap.registerPlugin(ScrollTrigger),ScrollTrigger.defaults({markers:!1})}function a(){let n=document.querySelector(".nav_component");if(!n)return;let s=n.querySelector('[data-contact="trigger"]'),r=[...n.querySelectorAll('[data-contact="button"]')];s&&r&&r.length>0&&r.forEach(l=>{l.addEventListener("click",()=>{b(s,"click")})});let t=n.querySelector("form");if(!t)return;let c=t.querySelector(".button");c&&c.addEventListener("click",()=>{t.requestSubmit()})}function o(){[...document.querySelectorAll(".video_embed, .services_item")].forEach(s=>{let r=s.querySelector("video");h(r,"pause"),s.addEventListener("mouseover",()=>{h(r,"play")}),s.addEventListener("mouseout",()=>{h(r,"pause")})})}};var y=()=>{};var k=()=>{};var M=(e,i)=>{e||(e=[...document.querySelectorAll("img")]),Array.isArray(e)||(e=[...e]);let a=e.length,o=0;e.forEach(n=>{let s=new Image;s.src=n.src,s.onload=function(){o+=1,o===a&&i()}})};var g=e=>{let{scrub:i}=e.timeline;e.timeline.scrub=i||1;let a=gsap.timeline({scrollTrigger:e.timeline}),{duration:o}=e.options;e.options.duration=o||1,a.to(e.timeline.target,e.options)};var E=()=>{e(),i(),a();function e(){let o=document.querySelector(".hero");if(!o)return;let n=[...o.querySelectorAll("img")];if(n.length===0)return;M(n,s);function s(){let r=document.querySelector(".sticky_component");if(!r)return;let t=r.querySelector(".hero");if(!t)return;let c=t.querySelector(".horizontal_track");if(!c)return;let l=c.querySelector(".horizontal_list");if(!l)return;let m=t.offsetHeight,p=l.offsetWidth,u=window.innerWidth;r.style.height=`${m+(p-u)}px`,g({timeline:{trigger:r,target:l,start:"top top",end:"bottom bottom"},options:{x:()=>(p-u)*-1}})}}function i(){[...document.querySelectorAll(".story_text")].forEach(n=>{new IntersectionObserver((s,r)=>{s.forEach(t=>{t.isIntersecting&&(t.target.classList.add("is-active"),r.unobserve(t.target))})},{rootMargin:"0px 0px -20% 0px",threshold:.5}).observe(n)})}function a(){let o=document.querySelector(".section_how");if(!o)return;new IntersectionObserver(s).observe(o);function s(t,c){t.forEach(l=>{l.isIntersecting&&(r(),c.unobserve(l.target))})}function r(){let t=document.querySelector(".process_wrapper");if(!t)return;let c=t.querySelector(".process_sticky");if(!c)return;let l=c.querySelector(".process_track");if(!l)return;let m=l.querySelector(".horizontal_list");if(!m)return;let p=window.innerHeight,u=m.offsetHeight,x=`${p/2-u/2}px`,f=`${p/2+u/2}px`;c.style.top=x;let T=m.offsetWidth,H=window.innerWidth;t.style.height=`${T-H}px`,g({timeline:{trigger:t,target:m,start:`top ${x}`,end:`bottom ${f}`},options:{x:()=>(T-H)*-1}})}}};var S=()=>{switch(i(),d()){case"main":a(),o();break;case"medium":o();break;case"small":break;case"tiny":break}function i(){let n=document.querySelector(".home-hero_track"),s=n.querySelector(".home-hero_video"),r=s.getBoundingClientRect(),t=window.innerHeight-r.bottom;g({timeline:{trigger:n,target:s,start:"top top",end:"bottom bottom"},options:{y:t,width:"100vw",height:"100vh"}})}function a(){let n=window.matchMedia("(prefers-reduced-motion: reduce)").matches;[...document.querySelectorAll(".featured-work_row")].forEach(r=>{let t=r.querySelector(".featured-meta_list");if(!t)return;let c=[...t.querySelectorAll(".featured-meta_link")];[...r.querySelectorAll(".featured-work_item")].forEach(m=>{let u=m.querySelector("a").href,x=c.find(f=>f.href===u);m.addEventListener("mouseover",()=>{let f=x.offsetTop;t.scrollTo({top:f,behavior:n?"auto":"smooth"})})})})}function o(){let n=document.querySelector(".services_list");if(!n)return;let s=0,r=1;[...n==null?void 0:n.querySelectorAll(".services_item")].forEach(c=>{let l=c.offsetTop;l>s&&(r%2&&(c.style.marginLeft="auto"),s=l,r+=1)})}};var v=()=>{};var L=()=>{let{referrer:e}=document,i=e.endsWith("/work")?"other":"work";[...document.querySelectorAll(`[data-from="${i}"]`)].forEach(o=>{o.style.display="none"})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{let{pathname:e}=window.location;switch(w(),e){case"/":S();break;case"/work":v();break;case"/culture":E();break;case"/blog":y();break;case"/careers":k();break;default:e.includes("/work/")&&L();break}});})();
