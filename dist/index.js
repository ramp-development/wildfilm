"use strict";(()=>{var b=(e,s)=>(Array.isArray(s)||(s=[s]),s.map(i=>e.dispatchEvent(new Event(i,{bubbles:!0}))).every(i=>i));var H=new Map([["tiny","(max-width: 479px)"],["small","(max-width: 767px)"],["medium","(max-width: 991px)"],["main","(min-width: 992px)"]]);var d=()=>{for(let[e,s]of H)if(window.matchMedia(s).matches)return e;return"main"};var h=(e,s)=>{s==="play"?e.play():s==="pause"&&e.pause()};var w=()=>{switch(s(),a(),d()){case"main":i();break;case"medium":break;case"small":break;case"tiny":break}function s(){gsap.registerPlugin(ScrollTrigger),ScrollTrigger.defaults({markers:!1})}function a(){let o=document.querySelector(".nav_component");if(!o)return;let n=o.querySelector('[data-contact="trigger"]'),t=[...o.querySelectorAll('[data-contact="button"]')];n&&t&&t.length>0&&t.forEach(l=>{l.addEventListener("click",()=>{b(n,"click")})});let r=o.querySelector("form");if(!r)return;let c=r.querySelector(".button");c&&c.addEventListener("click",()=>{r.requestSubmit()})}function i(){let o=[...document.querySelectorAll(".video_embed, .services_item")];o.forEach(n=>{let t=n.querySelector("video");h(t,"pause"),n.addEventListener("mouseover",()=>{h(t,"play")}),n.addEventListener("mouseout",()=>{h(t,"pause")})}),o.forEach(n=>{let t=n.querySelector("[data-video-timestamp]");if(!t)return;let r=t.dataset.videoTimestamp,c=n.querySelector("video");c.currentTime=r})}};var y=()=>{};var k=()=>{};var M=(e,s)=>{e||(e=[...document.querySelectorAll("img")]),Array.isArray(e)||(e=[...e]);let a=e.length,i=0;e.forEach(o=>{let n=new Image;n.src=o.src,n.onload=function(){i+=1,i===a&&s()}})};var g=e=>{let{scrub:s}=e.timeline;e.timeline.scrub=s||1;let a=gsap.timeline({scrollTrigger:e.timeline}),{duration:i}=e.options;e.options.duration=i||1,a.to(e.timeline.target,e.options)};var E=()=>{e(),s(),a();function e(){let i=document.querySelector(".hero");if(!i)return;let o=[...i.querySelectorAll("img")];if(o.length===0)return;M(o,n);function n(){let t=document.querySelector(".sticky_component");if(!t)return;let r=t.querySelector(".hero");if(!r)return;let c=r.querySelector(".horizontal_track");if(!c)return;let l=c.querySelector(".horizontal_list");if(!l)return;let m=r.offsetHeight,p=l.offsetWidth,u=window.innerWidth;t.style.height=`${m+(p-u)}px`,g({timeline:{trigger:t,target:l,start:"top top",end:"bottom bottom"},options:{x:()=>(p-u)*-1}})}}function s(){[...document.querySelectorAll(".story_text")].forEach(o=>{new IntersectionObserver((n,t)=>{n.forEach(r=>{r.isIntersecting&&(r.target.classList.add("is-active"),t.unobserve(r.target))})},{rootMargin:"0px 0px -20% 0px",threshold:.5}).observe(o)})}function a(){let i=document.querySelector(".section_how");if(!i)return;new IntersectionObserver(n).observe(i);function n(r,c){r.forEach(l=>{l.isIntersecting&&(t(),c.unobserve(l.target))})}function t(){let r=document.querySelector(".process_wrapper");if(!r)return;let c=r.querySelector(".process_sticky");if(!c)return;let l=c.querySelector(".process_track");if(!l)return;let m=l.querySelector(".horizontal_list");if(!m)return;let p=window.innerHeight,u=m.offsetHeight,x=`${p/2-u/2}px`,f=`${p/2+u/2}px`;c.style.top=x;let T=m.offsetWidth,q=window.innerWidth;r.style.height=`${T-q}px`,g({timeline:{trigger:r,target:m,start:`top ${x}`,end:`bottom ${f}`},options:{x:()=>(T-q)*-1}})}}};var S=()=>{switch(s(),d()){case"main":a(),i();break;case"medium":i();break;case"small":break;case"tiny":break}function s(){let o=document.querySelector(".home-hero_track"),n=o.querySelector(".home-hero_video"),t=n.getBoundingClientRect(),r=window.innerHeight-t.bottom;g({timeline:{trigger:o,target:n,start:"top top",end:"bottom bottom"},options:{y:r,width:"100vw",height:"100vh"}})}function a(){let o=window.matchMedia("(prefers-reduced-motion: reduce)").matches;[...document.querySelectorAll(".featured-work_row")].forEach(t=>{let r=t.querySelector(".featured-meta_list");if(!r)return;let c=[...r.querySelectorAll(".featured-meta_link")];[...t.querySelectorAll(".featured-work_item")].forEach(m=>{let u=m.querySelector("a").href,x=c.find(f=>f.href===u);m.addEventListener("mouseover",()=>{let f=x.offsetTop;r.scrollTo({top:f,behavior:o?"auto":"smooth"})})})})}function i(){let o=document.querySelector(".services_list");if(!o)return;let n=0,t=1;[...o==null?void 0:o.querySelectorAll(".services_item")].forEach(c=>{let l=c.offsetTop;l>n&&(t%2&&(c.style.marginLeft="auto"),n=l,t+=1)})}};var v=()=>{};var L=()=>{let{referrer:e}=document,s=e.endsWith("/work")?"other":"work";[...document.querySelectorAll(`[data-from="${s}"]`)].forEach(i=>{i.style.display="none"})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{let{pathname:e}=window.location;switch(w(),e){case"/":S();break;case"/work":v();break;case"/culture":E();break;case"/blog":y();break;case"/careers":k();break;default:e.includes("/work/")&&L();break}});})();
